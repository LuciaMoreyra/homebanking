<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tarjetas</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    />

    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="styles/accounts.css" />
    <link rel="stylesheet" href="styles/cards.css" />
  </head>

  <body>
    <div id="app" class="container-fluid">
      <header
        class="d-flex justify-content-between align-items-center py-1 px-3"
      >
        <div class="d-flex align-items-center p-1">
          <img src="img/android-chrome-512x512.png" alt="logo" />
          <h1 class="h5 ms-2 mb-0">Mindhub</h1>
        </div>
        <div class="user-menu">
          <a
            href="#"
            class="btn btn-outline-light"
            data-bs-toggle="tooltip"
            data-bs-placement="bottom"
            title="Contactanos"
            ><i class="bi bi-whatsapp"></i
          ></a>
          <a
            href="#"
            class="btn btn-outline-light"
            data-bs-toggle="tooltip"
            data-bs-placement="bottom"
            title="Perfil"
            ><i class="bi bi-person-circle"></i
          ></a>
          <a
            @click="logout"
            href="#"
            class="btn btn-outline-light"
            data-bs-toggle="tooltip"
            data-bs-placement="bottom"
            title="Salir"
            ><i class="bi bi-box-arrow-right"></i
          ></a>
        </div>
      </header>

      <div
        class="
          boton-nav
          d-flex
          justify-content-between justify-content-md-center
          px-3
          align-items-center
        "
      >
        <span class="p-1 toggle-button m-1" @click="toggleNav">
          <i class="bi bi-list"></i>
          <span class="text-secondary">menu</span>
        </span>

        <h5 v-cloak>{{ clientData.firstName }} {{clientData.lastName }}</h5>
      </div>

      <div class="content">
        <nav class="client-info" :class="{visible:navShow}">
          <div class="client-info-top position-relative" v-cloak>
            <button
              type="button"
              class="btn-close boton-cerrar btn-close-white"
              aria-label="Close"
              @click="toggleNav"
            ></button>

            <p>{{ clientData.firstName }} {{clientData.lastName }}</p>
            <small>{{clientData.email}}</small>
          </div>

          <a href="accounts.html"> <i class="bi bi-wallet2"></i> Cuentas </a>
          <a href="cards.html"><i class="bi bi-credit-card"></i> Tarjetas</a>

        </nav>

        <main>
          <div class="section cards" v-cloak>
            <div class="header d-flex justify-content-between">
              <h5>Tarjetas de Crédito</h5>
              
            </div>
            <div
              class="d-lg-flex justify-content-evenly flex-wrap"
              v-if="creditCards != 0"
            >
              <div
                class="container-card"
                v-for="card in creditCards"
                :class="card.color.toLowerCase()"
                :key="card.number"
              >
                <div class="card-front">
                  <div class="label">{{ card.color }}</div>
                  <div class="number">{{ card.number }}</div>

                  <div class="card-holder p-2">{{card.cardHolder}}</div>
                  <div class="d-flex">
                    <div class="d-flex justify-content-evenly labels-date">
                      <div>
                        <div class="label">valid since</div>
                        <div>{{ dateAndTime(card.fromDate) }}</div>
                      </div>
                      <div>
                        <div class="label">valid thru</div>
                        <div>{{ dateAndTime(card.thruDate) }}</div>
                      </div>
                    </div>
                    <div class="imagen">
                      <span>MindHub</span>
                    </div>
                  </div>
                </div>

                <div class="card-back">
                  <div class="line"></div>
                  <div class="secret">
                    <p class="code">{{ card.cvv }}</p>
                  </div>
                </div>
              </div>
            </div>
            <div v-else class="text-secondary">No hay tarjetas de Crédito</div>
          </div>

          <div class="section cards" v-cloak>
            <div class="header">
              <h5>Tarjetas de Débito</h5>
            </div>
            <div
              class="d-lg-flex justify-content-evenly flex-wrap"
              v-if="debitCards != 0"
            >
              <div
                class="container-card"
                v-for="card in debitCards"
                :class="card.color.toLowerCase()"
                :key="card.number"
              >
                <div class="card-front">
                  <div class="label">{{ card.color }}</div>
                  <div class="number">{{ card.number }}</div>

                  <div class="card-holder p-2">{{card.cardHolder}}</div>

                  <div class="d-flex">
                    <div class="d-flex justify-content-evenly labels-date">
                      <div>
                        <div class="label">valid since</div>
                        <div>{{ dateAndTime(card.fromDate) }}</div>
                      </div>
                      <div>
                        <div class="label">valid thru</div>
                        <div>{{ dateAndTime(card.thruDate) }}</div>
                      </div>
                    </div>
                    <div class="imagen">
                      <span>MindHub</span>
                    </div>
                  </div>
                </div>

                <div class="card-back">
                  <div class="line"></div>
                  <div class="secret">
                    <p class="code">{{ card.cvv }}</p>
                  </div>
                </div>
              </div>
            </div>
            <div v-else class="text-secondary">No hay tarjetas de Débito</div>
          </div>
        </main>
        <div
          @click="createCard"
          v-show="!maxCards"
          class="boton-crear"
        >
          <p>Crear Nueva Tarjeta <i class="bi bi-chevron-double-right"></i></p>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="./js/accounts.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
